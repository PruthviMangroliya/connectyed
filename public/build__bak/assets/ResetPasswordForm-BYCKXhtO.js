import{_ as h,x as m,e as d,f as e,j as g,k as p,v as u,t as l,i as w,o as c}from"./app-Cq5k9qoS.js";const f={props:{token:{type:String,required:!0},email:{type:String,required:!0}},data(){return{emailValue:this.email,password:"",password_confirmation:"",successMessage:"",errorMessage:"",processing:!1}},mounted(){(!this.token||!this.email)&&(this.errorMessage="Invalid password reset link",setTimeout(()=>{this.$router.push("/password/forgot")},2e3))},methods:{async resetPassword(){var a,t,i,n,s;this.processing=!0,this.errorMessage="",this.successMessage="";try{if(console.log("Attempting password reset with:",{token:this.token,email:this.email,password:"***"}),this.password!==this.password_confirmation)throw new Error("Passwords do not match");if(this.password.length<8)throw new Error("Password must be at least 8 characters long");const o=await m.post("/api/reset-password",{token:this.token,email:this.email,password:this.password,password_confirmation:this.password_confirmation});console.log("Reset password response:",o),this.successMessage="Password reset successfully! Redirecting to login...",this.password="",this.password_confirmation="",setTimeout(()=>{this.$router.push("/login")},2e3)}catch(o){console.error("Reset password error:",(a=o.response)==null?void 0:a.data),o.message?this.errorMessage=o.message:this.errorMessage=((i=(t=o.response)==null?void 0:t.data)==null?void 0:i.error)||((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to reset password. Please try again."}finally{this.processing=!1}}}},_={class:"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8 flex items-center justify-center"},b={class:"w-full max-w-sm mt-20"},y={class:"reset-password"},x=e("div",{class:"font-bold text-xl mb-2"},"Reset Password",-1),v={class:"form-group"},M=e("label",{for:"email"},"Email",-1),k=["value"],P={class:"form-group"},R=e("label",{for:"password"},"New Password",-1),V={class:"form-group"},q=e("label",{for:"password_confirmation"},"Confirm Password",-1),E=["disabled"],S={key:0,class:"text-green-500 text-center"},B={key:1,class:"text-red-500 text-center"};function N(a,t,i,n,s,o){return c(),d("div",_,[e("div",b,[e("div",y,[x,e("form",{onSubmit:t[2]||(t[2]=g((...r)=>o.resetPassword&&o.resetPassword(...r),["prevent"])),class:"bg-connectyed-card-light shadow-md rounded px-8 pt-6 pb-8 mb-4 border-solid border-2 border-gray-200"},[e("div",v,[M,e("input",{value:s.emailValue,type:"email",id:"email",disabled:"",required:"",class:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline mb-4 bg-gray-100"},null,8,k)]),e("div",P,[R,p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>s.password=r),type:"password",id:"password",required:"",class:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline mb-4"},null,512),[[u,s.password]])]),e("div",V,[q,p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>s.password_confirmation=r),type:"password",id:"password_confirmation",required:"",class:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline mb-4"},null,512),[[u,s.password_confirmation]])]),e("button",{type:"submit",disabled:s.processing,class:"bg-connectyed-button-light text-connectyed-button-dark hover:bg-connectyed-button-hover-light hover:text-connectyed-button-light w-full h-12 transition-colors duration-150 focus:shadow-outline font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50"},l(s.processing?"Resetting Password...":"Reset Password"),9,E)],32),s.successMessage?(c(),d("p",S,l(s.successMessage),1)):w("",!0),s.errorMessage?(c(),d("p",B,l(s.errorMessage),1)):w("",!0)])])])}const j=h(f,[["render",N]]);export{j as default};
